from newapp.models import *
user1 = User.objects.create(username='Exampl1', first_name='Ivan')
Author.objects.create(authorUser=user1)
user2 = User.objects.create(username='Exapl2', first_name='Petr')
Author.objects.create(authorUser=user2)
Category.objects.create(name='Lifestyle')
Category.objects.create(name='Technology')
Category.objects.create(name='Entertainment')
Category.objects.create(name='Travel and Adventure')
Post.objects.create(author=Author.objects.get(authorUser=User.objects.get(username='Exampl1')), categoryType='NW', title='news title', text='news text')
Post.objects.create(author=Author.objects.get(authorUser=User.objects.get(username='Exampl1')), categoryType='AR', title='Artical1 title', text='artical1 text')
Post.objects.create(author=Author.objects.get(authorUser=User.objects.get(username='Exapl2')), categoryType='AR', title='Artical2 title', text='artical2 text')
p1=Post.objects.get(pk=1)
p2=Post.objects.get(pk=2)
p3=Post.objects.get(pk=3)
c1=Category.objects.get(name='Travel and Adventure')
c2=Category.objects.get(name='Lifestyle')
p1.postCategory.add(c1)
Comment.objects.create(commentUser=User.objects.get(username='Exampl1'), commentPost=Post.objects.get(pk=1), text='comment text1')
Comment.objects.create(commentUser=User.objects.get(username='Exampl1'), commentPost=Post.objects.get(pk=2), text='comment text11111')
Comment.objects.create(commentUser=User.objects.get(username='Exapl2'), commentPost=Post.objects.get(pk=3), text='comment text222')
Post.objects.get(pk=1).like()
Post.objects.get(pk=2).like()
Post.objects.get(pk=3).dislike()
Comment.objects.get(pk=1).like()
Comment.objects.get(pk=3).dislike()
Author.objects.get(authorUser=User.objects.get(username='Exampl1')).update_rating()
Author.objects.get(authorUser=User.objects.get(username='Exapl2')).update_rating()
r = Author.objects.get(authorUser=User.objects.get(username='Exapl2'))
r.ratingAuthor
Author.objects.get(authorUser=User.objects.get(username='Exampl1')).ratingAuthor
print(Author.objects.all().order_by('-ratingAuthor').values('authorUser', 'ratingAuthor')[0])
print(Post.objects.all().order_by('-rating').values('dateCreation','author','rating','title')[0])
print(Post.objects.get(title='news title').preview())
print(User.objects.get(pk=1).get_full_name())